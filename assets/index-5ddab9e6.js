import{r as h,j as s,m as t,c as L,l as O,N as ae,a as de,R as ue,H as he,b as fe}from"./vendor-6b7922cb.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))T(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&T(i)}).observe(document,{childList:!0,subtree:!0});function M(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function T(r){if(r.ep)return;r.ep=!0;const a=M(r);fetch(r.href,a)}})();const ge=`#root{border-color:inherit;font-family:Inter,Avenir,Helvetica,Arial,sans-serif;font-size:16px;font-synthesis:none;font-weight:400;height:100vh;line-height:24px;margin:0;padding:0;pointer-events:none;text-rendering:optimizeLegibility;width:100vw;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}#root:first-child{width:100vw!important}a{color:#646cff;font-weight:500;text-decoration:inherit}a:hover{color:#535bf2}body{display:flex;margin:0;min-height:100vh;min-width:320px;place-items:center;position:absolute;right:0;width:100vw}h1{font-size:3.2em;line-height:1.1}p{pointer-events:all}button{background-color:#1a1a1a;border:1px solid transparent;border-radius:8px;cursor:pointer;font-family:inherit;font-size:1em;font-weight:500;padding:.6em 1.2em;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}
`;const Z="/assets/react-35ef61ed.svg",A="/vite.svg",pe="/assets/plug3-f4b3698f.png",xe="/assets/plug2-fcde437e.png",me="/assets/outlet-2a34fa6c.png",be="/assets/wallsocket-880de703.png",D=h.createContext({theme:"light",setTheme:()=>{console.warn("no theme provider")}});function ye(f){const[m,M]=h.useState("light");return s.jsx(D.Provider,{value:{theme:m,setTheme:M},children:f.children})}function we({powered:f,setPowered:m}){const{theme:M,setTheme:T}=h.useContext(D),r=h.useRef(null),a=h.useRef(null),i=h.useRef({}),W=h.useRef(!1);h.useRef(!1);const b=h.useRef(t.Engine.create()),U=h.useRef(t.Runner.create()),g=h.useRef(null),[q,ee]=h.useState(!1);function te(){console.log("App mounted"),i.current={};const d=window.innerWidth,c=window.innerHeight;if(r.current&&r.current.children.length==0&&(console.log("Creating canvas"),g.current=t.Render.create({element:r.current,engine:b.current,options:{width:d,height:c,wireframes:!1,background:"transparent",showCollisions:!0,showVelocity:!0}})),g.current)console.log("Render created");else{console.log("Render not created");return}t.World.add(b.current.world,[t.Bodies.rectangle(-10,c/2,20,c*3,{isStatic:!0}),t.Bodies.rectangle(d/2,c+10,d,20,{isStatic:!0}),t.Bodies.rectangle(d+10,c/2,20,c*3,{isStatic:!0})]),t.Runner.run(U.current,b.current),t.Render.run(g.current);const w=1,v=2;function _(o,n,u,x){const e=t.Composites.stack(o,n,u,1,20,10,function(P,R){return t.Bodies.rectangle(P,R,50,20,{collisionFilter:{category:v,group:v}})}),l=t.Bodies.circle(o+50*u,n,40,{density:.001,label:x,collisionFilter:{group:v,category:v,mask:-1}});return t.Composite.add(e,l),t.Composites.chain(e,.5,0,-.5,0,{stiffness:.4,length:40,render:{type:"line"}}),t.Composite.add(e,t.Constraint.create({bodyB:e.bodies[0],pointB:{x:-25,y:0},pointA:{x:e.bodies[0].position.x,y:e.bodies[0].position.y},stiffness:.5})),[e,l]}const p=t.Bodies.rectangle(d*9/10,c/2+95/2,130,200,{isStatic:!0,collisionFilter:{mask:w},frictionAir:.1}),V=t.Bodies.rectangle(p.position.x,p.position.y-45,40,40,{isStatic:!0,collisionFilter:{mask:v},label:"outlet1"}),F=t.Bodies.rectangle(p.position.x,p.position.y+45,40,40,{isStatic:!0,collisionFilter:{mask:v},label:"outlet2"});t.World.add(b.current.world,[V,F,p]);const[oe,ne]=_(d/4,-300,c/80,"plug1"),[se,$]=_(d+300,c+100,7,"plug2"),G=[V,F],H=[oe,se],J=[ne,$],z=[[$,F]];t.Composite.add(b.current.world,H);const I=t.Mouse.create(g.current.canvas),Q=t.MouseConstraint.create(b.current,{mouse:I,constraint:{stiffness:.2,render:{visible:!0}}});t.Composite.add(b.current.world,Q),g.current.mouse=I;const j=new Image(150,150);j.src=pe,j.onload=()=>{g.current.textures[Z]=j};const C=new Image(125,125);C.src=xe,C.onload=()=>{g.current.textures[Z]=C};function re(o,n){const u=o.bodies,x=o.bodies[o.bodies.length-1];if(i.current[x.label]){const R=o.bodies.length-2,y=o.bodies[R+1];n.drawImage(C,y.position.x-C.width/2,y.position.y-C.height/2,C.width,C.height)}for(let R=1;R<u.length;R+=1){const y=u[R-1],S=u[R],X={x:y.position.x+30*Math.cos(y.angle),y:y.position.y+30*Math.sin(y.angle)},Y={x:S.position.x-30*Math.cos(S.angle),y:S.position.y-30*Math.sin(S.angle)};n.beginPath(),n.moveTo(y.position.x,y.position.y),n.bezierCurveTo(X.x,X.y,Y.x,Y.y,S.position.x,S.position.y),n.strokeStyle="black",n.lineWidth=20,n.stroke(),n.strokeStyle="white",n.lineWidth=16,n.stroke()}if(i.current[x.label])return;const e=o.bodies.length-1,l=o.bodies[e],P=l.angle;n.save(),n.translate(l.position.x,l.position.y),n.rotate(P),n.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),n.restore()}const k=new Image(125,125);k.src=me,k.onload=()=>{g.current.textures[A]=k};const B=new Image(275,275);B.src=be,B.onload=()=>{g.current.textures[A]=B};function ie(o,n){o.drawImage(B,n.position.x-B.width/2,n.position.y-B.height/2,B.width,B.height)}function le(o,n){o.drawImage(k,n.position.x-k.width/2,n.position.y-k.height/2,k.width,k.height)}function ce(o,n){var x,e;const u=o.bodies[o.bodies.length-1];return W.current?((x=t.Collision.collides(n,o.bodies[o.bodies.length-1]))==null?void 0:x.collided)??!1:(e=t.Collision.collides(n,o.bodies[o.bodies.length-1]))!=null&&e.collided?(console.log("Connected"),console.log("Checking connection",u.label,n.label,J),i.current[u.label]===n||(i.current[u.label]&&(console.log("Disconnecting"),n.collisionFilter.mask=v,t.Composite.remove(o,o.constraints[o.constraints.length-1])),i.current[u.label]=n,t.Body.setPosition(o.bodies[o.bodies.length-1],{x:n.position.x,y:n.position.y}),t.Composite.add(o,t.Constraint.create({bodyB:o.bodies[o.bodies.length-1],pointB:{x:0,y:0},pointA:{x:n.position.x,y:n.position.y},stiffness:.1})),n.collisionFilter.mask=w,W.current=!0,setTimeout(()=>{W.current=!1},1e3)),!0):(i.current[u.label]===n&&(console.log("Disconnected"),t.Composite.remove(o,o.constraints[o.constraints.length-1]),i.current[u.label]=null,n.collisionFilter.mask=v),!1)}let N={x:-1,y:-1};setTimeout(()=>{W.current=!1},1e3);let E=1;t.Events.on(b.current,"afterUpdate",function(){var n,u,x;const o=(n=a.current)==null?void 0:n.getContext("2d");if(o){if(i.current.plug2?E>0?(E-=.025,o.filter="invert("+E+")"):o.filter="invert(0)":E<1?(E+=.025,o.filter="invert("+E+")"):o.filter="invert(1)",z.length>0)for(let e=0;e<z.length;e++){const l=z[e][0],P=z[e][1];i.current[l.label]===P?z.splice(e,1):t.Body.setPosition(l,{x:l.position.x+(P.position.x-l.position.x)/1.5,y:l.position.y+(P.position.y-l.position.y)/1.5})}Q.body==p?(N.x==-1&&N.y==-1&&(N={x:p.position.x-I.position.x,y:p.position.y-I.position.y}),console.log("Wall is being dragged",N),t.Body.setPosition(p,{x:I.position.x+N.x,y:I.position.y+N.y}),H.forEach(e=>{const l=e.bodies[e.bodies.length-1];i.current[l.label]&&(t.Body.setPosition(l,{x:i.current[l.label].position.x,y:i.current[l.label].position.y}),t.Composite.remove(e,e.constraints[e.constraints.length-1]),t.Composite.add(e,t.Constraint.create({bodyB:e.bodies[e.bodies.length-1],pointB:{x:0,y:0},pointA:{x:i.current[l.label].position.x,y:i.current[l.label].position.y},stiffness:.1})))})):N={x:-1,y:-1},t.Body.setAngle(p,0),t.Body.setPosition(V,{x:p.position.x,y:p.position.y-45}),t.Body.setPosition(F,{x:p.position.x,y:p.position.y+45}),(x=(u=a.current)==null?void 0:u.getContext("2d"))==null||x.clearRect(0,0,a.current.width,a.current.height),ie(o,p),H.forEach(e=>{G.forEach(l=>{ce(e,l)})}),G.forEach(e=>{le(o,e)}),H.forEach(e=>{re(e,o)}),J.forEach(e=>{(e.position.x<0||e.position.x>d)&&(t.Body.setVelocity(e,{x:0,y:0}),t.Body.setPosition(e,{x:e.position.x+(d/2-e.position.x)/5,y:e.position.y})),(e.position.y<0||e.position.y>c)&&(t.Body.setVelocity(e,{x:0,y:0}),t.Body.setPosition(e,{x:e.position.x,y:e.position.y+(c/2-e.position.y)/5}))})}})}function K(){console.log("Resizing canvas");const d=window.innerWidth,c=window.innerHeight;g.current.canvas.height=c,g.current.canvas.width=d,g.current.bounds.max.x=d,g.current.bounds.max.y=c;const w=a.current;w&&(w.setAttribute("width",d.toString()),w.setAttribute("height",c.toString()),w.style.width=d+"px",w.style.height=c+"px")}return h.useEffect(()=>{if(!q){ee(!0);return}return console.log("App mounted"),r.current&&(r.current.innerHTML="",te()),K(),setInterval(()=>{m(Object.keys(i.current).reduce((d,c)=>(d[c]=i.current[c]!==null,d),{}))},10),window.addEventListener("resize",K),()=>{console.log("App unmounted"),i.current={},t.Runner.stop(U.current),g.current&&t.Render.stop(g.current),t.World.clear(b.current.world,!1),r.current&&(r.current.innerHTML="")}},[q]),h.useEffect(()=>{f.plug2?T("light"):T("dark"),console.log("Powered:",f)},[f]),s.jsxs("div",{className:L("absolute left-0 top-0 h-screen w-screen"),children:[s.jsx("div",{ref:r,className:"pointer-events-auto h-screen w-screen overflow-hidden opacity-10"}),s.jsx("canvas",{ref:a,className:"absolute left-0 top-0 h-full w-full",style:{pointerEvents:"none"}}),f.plug2&&s.jsx("div",{})]})}function ve(){const[f,m]=h.useState({plug2:!0});return h.useContext(D),s.jsxs("div",{className:L("scroll pointer-events-none min-h-screen w-screen transition-all duration-400",f.plug2?"border-black bg-white text-black":"border-white bg-black text-white"),children:[s.jsx(we,{powered:f,setPowered:m}),s.jsxs("div",{className:L("absolute z-10 flex h-screen w-screen flex-row items-center justify-center overflow-hidden "),children:[s.jsx("div",{className:L("text-3xl font-semibold transition-all",f.plug1?"-translate-y-[35vh]":"translate-y-0 scale-150"),children:s.jsx("p",{children:"Bryant Hargreaves"})}),s.jsxs("div",{className:L("absolute bottom-0 flex flex-col items-center justify-start rounded-lg border border-black bg-gray-500 bg-opacity-20 py-4 backdrop-blur-sm transition-all duration-700",f.plug1?"-translate-x-[20vw] translate-y-[30%] -rotate-[5deg]":"translate-y-[100%] rotate-90",f.plug2?"border-black":"border-white"),children:[s.jsx("div",{className:"absolute text-xl font-semibold",children:s.jsx("p",{children:"Projects"})}),s.jsx("div",{className:"scroll pointer-events-auto mt-2 h-[700px] w-[500px] overflow-auto pt-8",children:s.jsxs("div",{className:"flex h-max flex-col gap-2 px-8",children:[s.jsx(O,{isExternal:!0,href:"https://tensorboard--tensorboard-234f6.us-central1.hosted.app",children:s.jsxs("div",{className:"flex w-full cursor-pointer flex-row rounded-lg border border-black p-4 transition-colors hover:bg-gray-500/30",children:["Tensorboard",s.jsx("div",{className:"h-[100px]"})]})}),s.jsxs("div",{className:"flex w-full flex-row justify-between gap-4",children:[s.jsx(O,{isExternal:!0,href:"https://tensorboard--tensorboard-234f6.us-central1.hosted.app",className:"flex w-full cursor-pointer flex-row rounded-lg border border-black p-4 transition-colors hover:bg-gray-500/30",children:s.jsxs("div",{children:["ourworlds!",s.jsx("div",{className:"h-[100px]"})]})}),s.jsx(O,{isExternal:!0,href:"https://tensorboard--tensorboard-234f6.us-central1.hosted.app",className:"flex w-full cursor-pointer flex-row rounded-lg border border-black p-4 transition-colors hover:bg-gray-500/30",children:s.jsxs("div",{children:["storyboard!",s.jsx("div",{className:"h-[100px]"})]})})]}),s.jsx(O,{isExternal:!0,href:"https://tensorboard--tensorboard-234f6.us-central1.hosted.app",children:s.jsxs("div",{className:"flex w-full cursor-pointer flex-row rounded-lg border border-black p-4 transition-colors hover:bg-gray-500/30",children:["AIM",s.jsx("div",{className:"h-[500px]"})]})})]})})]})]})]})}function je({children:f}){return s.jsx(ae,{children:s.jsx(ye,{children:f})})}const Ce={};de.createRoot(document.getElementById("root")).render(s.jsx(ue.StrictMode,{children:s.jsx(je,{children:s.jsxs(he,{context:Ce,children:[s.jsx(fe,{children:s.jsx("style",{children:ge})}),s.jsx(ve,{})]})})}));
