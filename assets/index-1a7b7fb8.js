import{r as g,j as s,m as t,c as T,N as ce,a as ae,R as ue,H as de,b as ge}from"./vendor-11d3d1d8.js";(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))z(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&z(r)}).observe(document,{childList:!0,subtree:!0});function W(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function z(i){if(i.ep)return;i.ep=!0;const a=W(i);fetch(i.href,a)}})();const he=`#root{border-color:inherit;font-family:Inter,Avenir,Helvetica,Arial,sans-serif;font-size:16px;font-synthesis:none;font-weight:400;height:100vh;line-height:24px;margin:0;padding:0;pointer-events:none;text-rendering:optimizeLegibility;width:100vw;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}a{color:#646cff;font-weight:500;text-decoration:inherit}a:hover{color:#535bf2}body{display:flex;margin:0;min-height:100vh;min-width:320px;place-items:center}h1{font-size:3.2em;line-height:1.1}p{pointer-events:all}button{background-color:#1a1a1a;border:1px solid transparent;border-radius:8px;cursor:pointer;font-family:inherit;font-size:1em;font-weight:500;padding:.6em 1.2em;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}
`;const Z="/assets/react-35ef61ed.svg",_="/vite.svg",fe="/assets/plug3-f4b3698f.png",pe="/assets/plug2-fcde437e.png",me="/assets/outlet-2a34fa6c.png",xe="/assets/wallsocket-880de703.png",V=g.createContext({theme:"light",setTheme:()=>{console.warn("no theme provider")}});function ye(p){const[x,W]=g.useState("light");return s.jsx(V.Provider,{value:{theme:x,setTheme:W},children:p.children})}function be({powered:p,setPowered:x}){const{theme:W,setTheme:z}=g.useContext(V),i=g.useRef(null),a=g.useRef(null),r=g.useRef({}),M=g.useRef(!1);g.useRef(!1);const y=g.useRef(t.Engine.create()),D=g.useRef(t.Runner.create()),h=g.useRef(null),[U,A]=g.useState(!1);function ee(){console.log("App mounted"),r.current={};const u=window.innerWidth,c=window.innerHeight;if(i.current&&i.current.children.length==0&&(console.log("Creating canvas"),h.current=t.Render.create({element:i.current,engine:y.current,options:{width:u,height:c,wireframes:!1,background:"transparent",showCollisions:!0,showVelocity:!0}})),h.current)console.log("Render created");else{console.log("Render not created");return}t.World.add(y.current.world,[t.Bodies.rectangle(-10,c/2,20,c*3,{isStatic:!0}),t.Bodies.rectangle(u/2,c+10,u,20,{isStatic:!0}),t.Bodies.rectangle(u+10,c/2,20,c*3,{isStatic:!0})]),t.Runner.run(D.current,y.current),t.Render.run(h.current);const w=1,v=2;function K(n,o,d,m){const e=t.Composites.stack(n,o,d,1,20,10,function(P,R){return t.Bodies.rectangle(P,R,50,20,{collisionFilter:{category:v,group:v}})}),l=t.Bodies.circle(n+50*d,o,40,{density:.001,label:m,collisionFilter:{group:v,category:v,mask:-1}});return t.Composite.add(e,l),t.Composites.chain(e,.5,0,-.5,0,{stiffness:.4,length:40,render:{type:"line"}}),t.Composite.add(e,t.Constraint.create({bodyB:e.bodies[0],pointB:{x:-25,y:0},pointA:{x:e.bodies[0].position.x,y:e.bodies[0].position.y},stiffness:.5})),[e,l]}const f=t.Bodies.rectangle(u*9/10,c/2+95/2,130,200,{isStatic:!0,collisionFilter:{mask:w},frictionAir:.1}),O=t.Bodies.rectangle(f.position.x,f.position.y-45,40,40,{isStatic:!0,collisionFilter:{mask:v},label:"outlet1"}),F=t.Bodies.rectangle(f.position.x,f.position.y+45,40,40,{isStatic:!0,collisionFilter:{mask:v},label:"outlet2"});t.World.add(y.current.world,[O,F,f]);const[te,ne]=K(u/4,-300,c/80,"plug1"),[oe,$]=K(u+300,c+100,7,"plug2"),G=[O,F],H=[te,oe],J=[ne,$],L=[[$,F]];t.Composite.add(y.current.world,H);const I=t.Mouse.create(h.current.canvas),Q=t.MouseConstraint.create(y.current,{mouse:I,constraint:{stiffness:.2,render:{visible:!0}}});t.Composite.add(y.current.world,Q),h.current.mouse=I;const j=new Image(150,150);j.src=fe,j.onload=()=>{h.current.textures[Z]=j};const C=new Image(125,125);C.src=pe,C.onload=()=>{h.current.textures[Z]=C};function se(n,o){const d=n.bodies,m=n.bodies[n.bodies.length-1];if(r.current[m.label]){const R=n.bodies.length-2,b=n.bodies[R+1];o.drawImage(C,b.position.x-C.width/2,b.position.y-C.height/2,C.width,C.height)}for(let R=1;R<d.length;R+=1){const b=d[R-1],E=d[R],X={x:b.position.x+30*Math.cos(b.angle),y:b.position.y+30*Math.sin(b.angle)},Y={x:E.position.x-30*Math.cos(E.angle),y:E.position.y-30*Math.sin(E.angle)};o.beginPath(),o.moveTo(b.position.x,b.position.y),o.bezierCurveTo(X.x,X.y,Y.x,Y.y,E.position.x,E.position.y),o.strokeStyle="black",o.lineWidth=20,o.stroke(),o.strokeStyle="white",o.lineWidth=16,o.stroke()}if(r.current[m.label])return;const e=n.bodies.length-1,l=n.bodies[e],P=l.angle;o.save(),o.translate(l.position.x,l.position.y),o.rotate(P),o.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),o.restore()}const B=new Image(125,125);B.src=me,B.onload=()=>{h.current.textures[_]=B};const N=new Image(275,275);N.src=xe,N.onload=()=>{h.current.textures[_]=N};function ie(n,o){n.drawImage(N,o.position.x-N.width/2,o.position.y-N.height/2,N.width,N.height)}function re(n,o){n.drawImage(B,o.position.x-B.width/2,o.position.y-B.height/2,B.width,B.height)}function le(n,o){var m,e;const d=n.bodies[n.bodies.length-1];return M.current?((m=t.Collision.collides(o,n.bodies[n.bodies.length-1]))==null?void 0:m.collided)??!1:(e=t.Collision.collides(o,n.bodies[n.bodies.length-1]))!=null&&e.collided?(console.log("Connected"),console.log("Checking connection",d.label,o.label,J),r.current[d.label]===o||(r.current[d.label]&&(console.log("Disconnecting"),o.collisionFilter.mask=v,t.Composite.remove(n,n.constraints[n.constraints.length-1])),r.current[d.label]=o,t.Body.setPosition(n.bodies[n.bodies.length-1],{x:o.position.x,y:o.position.y}),t.Composite.add(n,t.Constraint.create({bodyB:n.bodies[n.bodies.length-1],pointB:{x:0,y:0},pointA:{x:o.position.x,y:o.position.y},stiffness:.1})),o.collisionFilter.mask=w,M.current=!0,setTimeout(()=>{M.current=!1},1e3)),!0):(r.current[d.label]===o&&(console.log("Disconnected"),t.Composite.remove(n,n.constraints[n.constraints.length-1]),r.current[d.label]=null,o.collisionFilter.mask=v),!1)}let k={x:-1,y:-1};setTimeout(()=>{M.current=!1},1e3);let S=1;t.Events.on(y.current,"afterUpdate",function(){var o,d,m;const n=(o=a.current)==null?void 0:o.getContext("2d");if(n){if(r.current.plug2?S>0?(S-=.025,n.filter="invert("+S+")"):n.filter="invert(0)":S<1?(S+=.025,n.filter="invert("+S+")"):n.filter="invert(1)",L.length>0)for(let e=0;e<L.length;e++){const l=L[e][0],P=L[e][1];r.current[l.label]===P?L.splice(e,1):t.Body.setPosition(l,{x:l.position.x+(P.position.x-l.position.x)/1.5,y:l.position.y+(P.position.y-l.position.y)/1.5})}Q.body==f?(k.x==-1&&k.y==-1&&(k={x:f.position.x-I.position.x,y:f.position.y-I.position.y}),console.log("Wall is being dragged",k),t.Body.setPosition(f,{x:I.position.x+k.x,y:I.position.y+k.y}),H.forEach(e=>{const l=e.bodies[e.bodies.length-1];r.current[l.label]&&(t.Body.setPosition(l,{x:r.current[l.label].position.x,y:r.current[l.label].position.y}),t.Composite.remove(e,e.constraints[e.constraints.length-1]),t.Composite.add(e,t.Constraint.create({bodyB:e.bodies[e.bodies.length-1],pointB:{x:0,y:0},pointA:{x:r.current[l.label].position.x,y:r.current[l.label].position.y},stiffness:.1})))})):k={x:-1,y:-1},t.Body.setAngle(f,0),t.Body.setPosition(O,{x:f.position.x,y:f.position.y-45}),t.Body.setPosition(F,{x:f.position.x,y:f.position.y+45}),(m=(d=a.current)==null?void 0:d.getContext("2d"))==null||m.clearRect(0,0,a.current.width,a.current.height),ie(n,f),H.forEach(e=>{G.forEach(l=>{le(e,l)})}),G.forEach(e=>{re(n,e)}),H.forEach(e=>{se(e,n)}),J.forEach(e=>{(e.position.x<0||e.position.x>u)&&(t.Body.setVelocity(e,{x:0,y:0}),t.Body.setPosition(e,{x:e.position.x+(u/2-e.position.x)/10,y:e.position.y})),(e.position.y<0||e.position.y>c)&&(t.Body.setVelocity(e,{x:0,y:0}),t.Body.setPosition(e,{x:e.position.x,y:e.position.y+(c/2-e.position.y)/10}))})}})}function q(){console.log("Resizing canvas");const u=window.innerWidth,c=window.innerHeight;h.current.canvas.height=c,h.current.canvas.width=u,h.current.bounds.max.x=u,h.current.bounds.max.y=c;const w=a.current;w&&(w.setAttribute("width",u.toString()),w.setAttribute("height",c.toString()),w.style.width=u+"px",w.style.height=c+"px")}return g.useEffect(()=>{if(!U){A(!0);return}return console.log("App mounted"),i.current&&(i.current.innerHTML="",ee()),q(),setInterval(()=>{x(Object.keys(r.current).reduce((u,c)=>(u[c]=r.current[c]!==null,u),{}))},10),window.addEventListener("resize",q),()=>{console.log("App unmounted"),r.current={},t.Runner.stop(D.current),h.current&&t.Render.stop(h.current),t.World.clear(y.current.world,!1),i.current&&(i.current.innerHTML="")}},[U]),g.useEffect(()=>{p.plug2?z("light"):z("dark"),console.log("Powered:",p)},[p]),s.jsxs("div",{className:T("absolute left-0 top-0 h-screen w-screen"),children:[s.jsx("div",{ref:i,className:"pointer-events-auto h-screen w-screen opacity-10"}),s.jsx("canvas",{ref:a,className:"absolute left-0 top-0 h-full w-full",style:{pointerEvents:"none"}}),p.plug2&&s.jsx("div",{})]})}function we(){const[p,x]=g.useState({plug2:!0});return g.useContext(V),s.jsxs("div",{className:T("pointer-events-none min-h-screen w-screen transition-all duration-400",p.plug2?"border-black bg-white text-black light":"border-white bg-black text-white dark"),children:[s.jsx(be,{powered:p,setPowered:x}),s.jsxs("div",{className:T("absolute z-10 flex h-screen w-screen flex-row items-center justify-center overflow-hidden "),children:[s.jsx("div",{className:T("text-3xl font-semibold transition-all",p.plug1?"-translate-y-[35vh]":"translate-y-0 scale-150"),children:s.jsx("p",{children:"Bryant Hargreaves"})}),s.jsxs("div",{className:T("absolute bottom-0 rounded-lg  border border-inherit bg-gray-500 bg-opacity-20 py-4 transition-all duration-700",p.plug1?"-translate-x-[20vw] translate-y-[30%] -rotate-[5deg]":"translate-y-[100%] rotate-90"),children:[s.jsx("div",{className:"text-xl font-semibold",children:s.jsx("p",{children:"Projects"})}),s.jsx("div",{className:"pointer-events-auto mt-2 h-[700px] w-[500px] overflow-auto",children:s.jsxs("div",{className:"flex h-max flex-col gap-1 px-8 opacity-30",children:[s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"}),s.jsx("div",{className:"h-20 w-full bg-gray-500"})]})})]})]})]})}function ve({children:p}){return s.jsx(ce,{children:s.jsx(ye,{children:p})})}const je={};ae.createRoot(document.getElementById("root")).render(s.jsx(ue.StrictMode,{children:s.jsx(ve,{children:s.jsxs(de,{context:je,children:[s.jsx(ge,{children:s.jsx("style",{children:he})}),s.jsx(we,{})]})})}));
