import{r as a,m as e,j as f,c as $,R as G,H as J,a as Q}from"./vendor-b46506e3.js";(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))S(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&S(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function S(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const X=`#root{background-color:#fff;color:#ffffffde;color-scheme:light;font-family:Inter,Avenir,Helvetica,Arial,sans-serif;font-size:16px;font-synthesis:none;font-weight:400;height:100vh;line-height:24px;margin:0;padding:0;text-rendering:optimizeLegibility;width:100vw;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}a{color:#646cff;font-weight:500;text-decoration:inherit}a:hover{color:#535bf2}body{display:flex;margin:0;min-height:100vh;min-width:320px;place-items:center}h1{font-size:3.2em;line-height:1.1}button{background-color:#1a1a1a;border:1px solid transparent;border-radius:8px;cursor:pointer;font-family:inherit;font-size:1em;font-weight:500;padding:.6em 1.2em;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme:light){#root{background-color:#fff;color:#213547}a:hover{color:#747bff}button{background-color:#f9f9f9}}
`,H="/bluestarburst/assets/react-35ef61ed.svg",O="/bluestarburst/vite.svg",Y="/bluestarburst/assets/plug-4a73dab3.png",Z="/bluestarburst/assets/plug2-fcde437e.png",_="/bluestarburst/assets/outlet-2a34fa6c.png",ee="/bluestarburst/assets/wallsocket-880de703.png";function te(){const m=a.useRef(null),g=a.useRef(null),r=a.useRef(null),S=a.useRef(!1);a.useRef(!1);const n=a.useRef(e.Engine.create()),l=a.useRef(e.Runner.create()),i=a.useRef(e.Render.create({element:m.current,engine:n.current,options:{width:800,height:600,wireframes:!1,background:"transparent",showCollisions:!0,showVelocity:!0}})),N=a.useRef({outlet1:!1,outlet2:!1}),F=a.useRef(!1);a.useState(!1),a.useState(!1);function T(){console.log("App mounted"),r.current=null;const d=window.innerWidth,u=window.innerHeight;n.current.gravity.y=0,m.current&&m.current.children.length==0&&(console.log("Creating canvas"),i.current=e.Render.create({element:m.current,engine:n.current,options:{width:d,height:u,wireframes:!1,background:"transparent",showCollisions:!0,showVelocity:!0}})),e.World.add(n.current.world,[e.Bodies.rectangle(-10,u/2,20,u*3,{isStatic:!0}),e.Bodies.rectangle(d/2,u+10,d,20,{isStatic:!0}),e.Bodies.rectangle(d+10,u/2,20,u*3,{isStatic:!0})]),e.Runner.run(l.current,n.current),e.Render.run(i.current);const h=1,x=2,t=e.Composites.stack(d/4,-300,10,1,20,10,function(o,s){return e.Bodies.rectangle(o,s,50,20,{collisionFilter:{category:x}})});e.Composite.add(t,e.Bodies.circle(450,-80,40,{density:.001,collisionFilter:{category:x,mask:h|x}})),e.Composite.add(t,e.Bodies.circle(250,-80,40,{density:7e-4,collisionFilter:{category:x,mask:h|x}})),e.Composites.chain(t,.5,0,-.5,0,{stiffness:.7,length:20,render:{type:"line"}}),e.Composite.add(t,e.Constraint.create({bodyB:t.bodies[0],pointB:{x:-25,y:0},pointA:{x:t.bodies[0].position.x,y:t.bodies[0].position.y},stiffness:.5}));const c=e.Bodies.rectangle(d*3/4,u/2+95/2,130,200,{isStatic:!0,collisionFilter:{mask:h},frictionAir:.1}),v=e.Bodies.rectangle(c.position.x,c.position.y-45,40,40,{isStatic:!0,collisionFilter:{mask:x},label:"outlet1"}),C=e.Bodies.rectangle(c.position.x,c.position.y+45,40,40,{isStatic:!0,collisionFilter:{mask:x},label:"outlet2"});e.World.add(n.current.world,[v,C,c]);const V=[v,C];e.Composite.add(n.current.world,[t]),e.Body.setVelocity(t.bodies[t.bodies.length-1],{x:-.5,y:-1});const P=e.Mouse.create(i.current.canvas),L=e.MouseConstraint.create(n.current,{mouse:P,constraint:{stiffness:.2,render:{visible:!0}}});e.Composite.add(n.current.world,L),i.current.mouse=P;const I=new Image(150,150);I.src=Y,I.onload=()=>{i.current.textures[H]=I};const B=new Image(125,125);B.src=Z,B.onload=()=>{i.current.textures[H]=B};function D(o){const s=t.bodies;if(r.current){const y=t.bodies.length-2,w=t.bodies[y+1];o.drawImage(B,w.position.x-B.width/2,w.position.y-B.height/2,B.width,B.height)}for(let y=1;y<s.length-(r.current?0:1);y+=1){const w=s[y-1],j=s[y],M={x:w.position.x+30*Math.cos(w.angle),y:w.position.y+30*Math.sin(w.angle)},W={x:j.position.x-30*Math.cos(j.angle),y:j.position.y-30*Math.sin(j.angle)};o.beginPath(),o.moveTo(w.position.x,w.position.y),o.bezierCurveTo(M.x,M.y,W.x,W.y,j.position.x,j.position.y),o.strokeStyle="black",o.lineWidth=20,o.stroke(),o.strokeStyle="white",o.lineWidth=16,o.stroke()}const p=t.bodies.length-2,E=t.bodies[p],b=Math.atan2(s[p+1].position.y-s[p-1].position.y,s[p+1].position.x-s[p-1].position.x);r.current||(o.save(),o.translate(E.position.x,E.position.y),o.rotate(b),o.drawImage(I,0,-I.height/2,I.width,I.height),o.restore())}const R=new Image(125,125);R.src=_,R.onload=()=>{i.current.textures[O]=R};const k=new Image(275,275);k.src=ee,k.onload=()=>{i.current.textures[O]=k};function q(o,s){o.drawImage(k,s.position.x-k.width/2,s.position.y-k.height/2,k.width,k.height)}function K(o,s){o.drawImage(R,s.position.x-R.width/2,s.position.y-R.height/2,R.width,R.height)}function U(o){var s,p;return S.current?((s=e.Collision.collides(o,t.bodies[t.bodies.length-1]))==null?void 0:s.collided)??!1:(p=e.Collision.collides(o,t.bodies[t.bodies.length-1]))!=null&&p.collided?(console.log("Connected"),r.current==o||(r.current&&(console.log("Disconnecting"),o.collisionFilter.mask=x,e.Composite.remove(t,t.constraints[t.constraints.length-1])),r.current=o,e.Body.setPosition(t.bodies[t.bodies.length-1],{x:o.position.x,y:o.position.y}),e.Composite.add(t,e.Constraint.create({bodyB:t.bodies[t.bodies.length-1],pointB:{x:0,y:0},pointA:{x:o.position.x,y:o.position.y},stiffness:.1})),o.collisionFilter.mask=h,S.current=!0,setTimeout(()=>{S.current=!1},1e3)),!0):(r.current===o&&(console.log("Disconnected"),e.Composite.remove(t,t.constraints[t.constraints.length-1]),r.current=null,o.collisionFilter.mask=x),!1)}let A={x:-1,y:-1};e.Events.on(n.current,"afterUpdate",function(){var s,p,E;const o=(s=g.current)==null?void 0:s.getContext("2d");o&&(t.bodies.forEach(b=>{e.Body.applyForce(b,b.position,{x:0,y:.001})}),L.body==c?(A.x==-1&&A.y==-1&&(A={x:c.position.x-P.position.x,y:c.position.y-P.position.y}),console.log("Wall is being dragged",A),e.Body.setPosition(c,{x:P.position.x+A.x,y:P.position.y+A.y}),r.current&&r.current==v?(e.Body.setPosition(t.bodies[t.bodies.length-1],{x:v.position.x,y:v.position.y}),e.Body.setVelocity(t.bodies[t.bodies.length-1],{x:0,y:0}),e.Composite.remove(t,t.constraints[t.constraints.length-1]),e.Composite.add(t,e.Constraint.create({bodyB:t.bodies[t.bodies.length-1],pointB:{x:0,y:0},pointA:{x:v.position.x,y:v.position.y},stiffness:.1}))):r.current&&r.current==C&&(e.Body.setPosition(t.bodies[t.bodies.length-1],{x:C.position.x,y:C.position.y}),e.Body.setVelocity(t.bodies[t.bodies.length-1],{x:0,y:0}),e.Composite.remove(t,t.constraints[t.constraints.length-1]),e.Composite.add(t,e.Constraint.create({bodyB:t.bodies[t.bodies.length-1],pointB:{x:0,y:0},pointA:{x:C.position.x,y:C.position.y},stiffness:.1})))):A={x:-1,y:-1},e.Body.setAngle(c,0),e.Body.setPosition(v,{x:c.position.x,y:c.position.y-45}),e.Body.setPosition(C,{x:c.position.x,y:c.position.y+45}),(E=(p=g.current)==null?void 0:p.getContext("2d"))==null||E.clearRect(0,0,g.current.width,g.current.height),q(o,c),V.forEach(b=>{const y=U(b);b.label=="outlet1"&&y&&(N.current[b.label]=y,F.current=y),K(o,b)}),D(o))})}function z(){console.log("Resizing canvas");const d=window.innerWidth,u=window.innerHeight;i.current.canvas.height=u,i.current.canvas.width=d,i.current.bounds.max.x=d,i.current.bounds.max.y=u;const h=g.current;h&&(h.setAttribute("width",d.toString()),h.setAttribute("height",u.toString()),h.style.width=d+"px",h.style.height=u+"px")}return a.useEffect(()=>(m.current&&(m.current.innerHTML="",T()),setTimeout(()=>{z()},100),window.addEventListener("resize",z),()=>{console.log("App unmounted"),e.Runner.stop(l.current),e.Render.stop(i.current),e.World.clear(n.current.world,!1),i.current.textures={}}),[m.current]),f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:m,className:"w-screen h-screen opacity-10"}),f.jsx("canvas",{ref:g,className:"w-full h-full absolute top-0 left-0",style:{pointerEvents:"none"}}),f.jsx("div",{className:"absolute w-screen h-screen top-0 left-0 text-black pointer-events-none",children:F.current&&f.jsx("p",{children:"Bryant Hargreaves"})})]})}const oe={};$.createRoot(document.getElementById("root")).render(f.jsx(G.StrictMode,{children:f.jsxs(J,{context:oe,children:[f.jsx(Q,{children:f.jsx("style",{children:X})}),f.jsx(te,{})]})}));
